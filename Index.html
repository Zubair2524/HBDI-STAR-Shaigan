<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HBDI Personality Test Adventure</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #007ACC, #009900, #FFD700, #FF3300);
      color: #333;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    .container {
      padding: 2rem;
      max-width: 800px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 15px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }
    h1, h2 {
      color: #1a1a1a;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
    }
    h2 {
      animation: pulseText 2s infinite ease-in-out;
    }
    @keyframes pulseText {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    input, button {
      padding: 15px;
      font-size: 1.2rem;
      margin: 0.5rem;
      border-radius: 8px;
      border: none;
      font-weight: bold;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    input {
      background: #f0f0f0;
      width: 80%;
      max-width: 300px;
    }
    button {
      background: #007ACC;
      color: white;
      cursor: pointer;
    }
    button:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }
    .game-screen, .result-screen {
      display: none;
    }
    .word-box {
      font-size: 2.5rem;
      margin: 1.5rem 0;
      padding: 20px;
      background: linear-gradient(45deg, #007ACC, #FFD700);
      color: white;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      font-weight: bold;
      text-transform: uppercase;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .scorecard {
      width: 350px;
      height: 350px;
      border-radius: 50%;
      background: conic-gradient(
        #007ACC 0deg 90deg, /* A - Analytical (Blue) - Top Right */
        #009900 90deg 180deg, /* B - Structural/Planner (Green) - Top Left */
        #FF3300 180deg 270deg, /* C - Relational (Red) - Bottom Left */
        #FFD700 270deg 360deg  /* D - Experimental (Yellow) - Bottom Right */
      );
      position: relative;
      margin: 2rem auto;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }
    .scorecard::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
      background-size: 400% 400%;
      animation: glow 5s ease infinite;
      opacity: 0.3;
      z-index: 0;
    }
    @keyframes glow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .scorecard-text {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      color: white;
      text-shadow: 2px 2px 4px #000;
      font-size: 1.5rem;
      z-index: 1;
    }
    .scorecard-text span {
      position: absolute;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.5);
      padding: 5px 10px;
      border-radius: 5px;
    }
    .scorecard-text .a { top: 25%; left: 75%; color: #007ACC; } /* Top Right */
    .scorecard-text .b { top: 25%; left: 25%; color: #009900; } /* Top Left */
    .scorecard-text .c { top: 75%; left: 25%; color: #FF3300; } /* Bottom Left */
    .scorecard-text .d { top: 75%; left: 75%; color: #FFD700; } /* Bottom Right */
    .download-btn, .reset-btn {
      background: #28a745;
      color: white;
      border: none;
      cursor: pointer;
      margin: 1rem;
    }
    .download-btn:hover, .reset-btn:hover {
      background: #218838;
    }
    .rainbow-glow {
      height: 15px;
      width: 100%;
      background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
      background-size: 400% 400%;
      animation: glow 5s ease infinite;
      border-radius: 10px;
      margin: 1rem auto;
    }
    .celebration {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 2;
    }
    .balloon, .firework {
      position: absolute;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      animation: float 5s linear infinite;
    }
    .balloon {
      background: linear-gradient(45deg, #ff69b4, #ff1493);
    }
    .firework {
      background: linear-gradient(45deg, #ffd700, #ffa500);
      animation: explode 1.5s ease-out infinite;
    }
    @keyframes float {
      0% { bottom: -50px; opacity: 1; }
      100% { bottom: 100%; opacity: 0; }
    }
    @keyframes explode {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(2.5); opacity: 0; }
    }
    .progress-bar {
      width: 80%;
      height: 20px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      margin: 1rem auto;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #007ACC, #FFD700);
      transition: width 0.3s ease;
    }
    .description {
      font-size: 1rem;
      margin: 1rem 0;
      color: #444;
      line-height: 1.5;
    }
    .score-details {
      margin: 1rem 0;
      font-size: 1.2rem;
    }
    .score-details div {
      margin: 0.5rem 0;
    }
    .logo-container {
      margin: 1rem 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .logo-container img {
      max-width: 150px;
      height: auto;
      margin: 0 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Welcome Screen -->
    <div class="welcome-screen">
      <h1>HBDI Personality Test Adventure</h1>
      <p class="description">Uncover your unique thinking style by selecting words that resonate with you. Your journey to self-discovery starts here!</p>
      <input type="text" id="name" placeholder="Your Name">
      <input type="text" id="designation" placeholder="Your Designation">
      <input type="text" id="team" placeholder="Your Team">
      <input type="text" id="city" placeholder="Your City">
      <br>
      <button onclick="startGame()">Begin Your Journey</button>
      <div class="rainbow-glow"></div>
    </div>

    <!-- Game Screen -->
    <div class="game-screen">
      <h2>Choose 25 Words for Your HBDI Personality Test</h2>
      <p class="description">Select words that reflect your personality and thinking style. You'll need to choose exactly 25 words.</p>
      <div class="word-box" id="wordBox"></div>
      <button onclick="selectWord(true)">Yes, That's Me!</button>
      <button onclick="selectWord(false)">Not Quite</button>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <p>Words Selected: <span id="wordCount">0</span>/25</p>
      <div class="rainbow-glow"></div>
    </div>

    <!-- Result Screen -->
    <div class="result-screen">
      <h2>Congratulations, <span id="userName"></span>! Your HBDI Personality Test Results</h2>
      <p class="description">You've completed the HBDI Personality Test! Your dominant style(s): <span id="dominantType"></span>. Explore your results below!</p>
      <div class="scorecard" id="scoreCard">
        <div class="scorecard-text">
          <span class="a">A</span>
          <span class="b">B</span>
          <span class="c">C</span>
          <span class="d">D</span>
        </div>
        <div class="celebration">
          <div class="balloon" style="left:10%; animation-delay: 0s;"></div>
          <div class="balloon" style="left:30%; animation-delay: 1s;"></div>
          <div class="balloon" style="left:50%; animation-delay: 2s;"></div>
          <div class="balloon" style="left:70%; animation-delay: 3s;"></div>
          <div class="firework" style="left:20%; animation-delay: 0.5s;"></div>
          <div class="firework" style="left:40%; animation-delay: 1.5s;"></div>
          <div class="firework" style="left:60%; animation-delay: 2.5s;"></div>
          <div class="firework" style="left:80%; animation-delay: 3.5s;"></div>
        </div>
      </div>
      <div class="score-details" id="profileScores"></div>
      <div class="logo-container">
        <img src="shaigan_pharma_logo.png" alt="Shaigan Pharma Logo"> <!-- Replace with actual logo URL or path -->
        <img src="star_department_logo.png" alt="STAR Department Logo"> <!-- Replace with actual logo URL or path -->
      </div>
      <h3 id="userInfo"></h3>
      <button class="download-btn" onclick="downloadScorecard()">Download Your Scorecard</button>
      <button class="reset-btn" onclick="location.reload()">Start Over</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    const words = [
      // Analytical (A - Blue) - 50 words
      'Analytical', 'Logical', 'Critical', 'Objective', 'Scientific', 'Rational', 'Insightful', 'Precise', 'Evaluative', 'Factual',
      'Quantitative', 'Methodical', 'Discerning', 'Systematic', 'Reasoned', 'Diagnostic', 'Inquisitive', 'Calculating', 'Intellectual', 'Observant',
      'Perceptive', 'Investigative', 'Data-driven', 'Cautious', 'Reflective', 'Prudent', 'Skeptical', 'Detail-oriented', 'Structured', 'Accurate',
      'Informed', 'Disciplined', 'Meticulous', 'Astute', 'Logical', 'Reasonable', 'Thoughtful', 'Analytical', 'Judicious', 'Empirical',
      'Probing', 'Strategic', 'Decisive', 'Clear-headed', 'Focused', 'Critical-thinking', 'Objective', 'Analytical', 'Rational', 'Precise',

      // Structural/Planner (B - Green) - 50 words
      'Organized', 'Detailed', 'Practical', 'Planner', 'Strategic', 'Stable', 'Methodical', 'Disciplined', 'Structured', 'Systematic',
      'Orderly', 'Efficient', 'Reliable', 'Consistent', 'Procedural', 'Scheduled', 'Punctual', 'Prepared', 'Methodical', 'Responsible',
      'Dependable', 'Thorough', 'Sequential', 'Logical', 'Coordinated', 'Pragmatic', 'Task-oriented', 'Controlled', 'Regimented', 'Predictable',
      'Deliberate', 'Cautious', 'Meticulous', 'Structured', 'Organized', 'Detail-focused', 'Systematic', 'Practical', 'Planner', 'Efficient',
      'Reliable', 'Consistent', 'Methodical', 'Orderly', 'Punctual', 'Prepared', 'Responsible', 'Dependable', 'Thorough', 'Sequential',

      // Relational (C - Red) - 50 words
      'Empathetic', 'Compassionate', 'Supportive', 'Collaborative', 'Expressive', 'Listener', 'Mediator', 'Nurturing', 'Harmonious', 'Caring',
      'Warm', 'Sensitive', 'Intuitive', 'Sociable', 'Friendly', 'Team-oriented', 'Empathic', 'Cooperative', 'Considerate', 'Encouraging',
      'Inclusive', 'Sympathetic', 'Affectionate', 'Understanding', 'Approachable', 'Supportive', 'Kind', 'Compassionate', 'Relational', 'Emotional',
      'Engaging', 'Personable', 'Thoughtful', 'Warm-hearted', 'Caring', 'Empathetic', 'Supportive', 'Collaborative', 'Expressive', 'Listener',
      'Mediator', 'Nurturing', 'Harmonious', 'Friendly', 'Team-oriented', 'Cooperative', 'Considerate', 'Encouraging', 'Inclusive', 'Sympathetic',

      // Experimental (D - Yellow) - 50 words
      'Creative', 'Imaginative', 'Visionary', 'Innovative', 'Risk-taking', 'Adventurous', 'Explorer', 'Inspirational', 'Inventive', 'Dynamic',
      'Original', 'Curious', 'Spontaneous', 'Flexible', 'Bold', 'Experimental', 'Visionary', 'Creative', 'Innovative', 'Imaginative',
      'Adventurous', 'Daring', 'Unconventional', 'Inquisitive', 'Open-minded', 'Resourceful', 'Exploratory', 'Future-oriented', 'Big-picture', 'Inspiring',
      'Energetic', 'Playful', 'Improvizational', 'Visionary', 'Creative', 'Innovative', 'Risk-taking', 'Adventurous', 'Explorer', 'Inspirational',
      'Inventive', 'Dynamic', 'Original', 'Curious', 'Spontaneous', 'Flexible', 'Bold', 'Experimental', 'Open-minded', 'Resourceful'
    ];

    const wordQuadrants = {
      // Analytical (A - Blue)
      'Analytical': 'A', 'Logical': 'A', 'Critical': 'A', 'Objective': 'A', 'Scientific': 'A', 'Rational': 'A', 'Insightful': 'A', 'Precise': 'A', 'Evaluative': 'A', 'Factual': 'A',
      'Quantitative': 'A', 'Discerning': 'A', 'Reasoned': 'A', 'Diagnostic': 'A', 'Inquisitive': 'A', 'Calculating': 'A', 'Intellectual': 'A', 'Observant': 'A', 'Perceptive': 'A', 'Investigative': 'A',
      'Data-driven': 'A', 'Cautious': 'A', 'Reflective': 'A', 'Prudent': 'A', 'Skeptical': 'A', 'Detail-oriented': 'A', 'Accurate': 'A', 'Informed': 'A', 'Judicious': 'A', 'Empirical': 'A',
      'Probing': 'A', 'Decisive': 'A', 'Clear-headed': 'A', 'Focused': 'A', 'Critical-thinking': 'A',

      // Structural/Planner (B - Green)
      'Organized': 'B', 'Detailed': 'B', 'Practical': 'B', 'Planner': 'B', 'Strategic': 'B', 'Stable': 'B', 'Methodical': 'B', 'Disciplined': 'B', 'Structured': 'B', 'Systematic': 'B',
      'Orderly': 'B', 'Efficient': 'B', 'Reliable': 'B', 'Consistent': 'B', 'Procedural': 'B', 'Scheduled': 'B', 'Punctual': 'B', 'Prepared': 'B', 'Responsible': 'B', 'Dependable': 'B',
      'Thorough': 'B', 'Sequential': 'B', 'Coordinated': 'B', 'Pragmatic': 'B', 'Task-oriented': 'B', 'Controlled': 'B', 'Regimented': 'B', 'Predictable': 'B', 'Deliberate': 'B', 'Detail-focused': 'B',

      // Relational (C - Red)
      'Empathetic': 'C', 'Compassionate': 'C', 'Supportive': 'C', 'Collaborative': 'C', 'Expressive': 'C', 'Listener': 'C', 'Mediator': 'C', 'Nurturing': 'C', 'Harmonious': 'C', 'Caring': 'C',
      'Warm': 'C', 'Sensitive': 'C', 'Intuitive': 'C', 'Sociable': 'C', 'Friendly': 'C', 'Team-oriented': 'C', 'Empathic': 'C', 'Cooperative': 'C', 'Considerate': 'C', 'Encouraging': 'C',
      'Inclusive': 'C', 'Sympathetic': 'C', 'Affectionate': 'C', 'Understanding': 'C', 'Approachable': 'C', 'Kind': 'C', 'Relational': 'C', 'Emotional': 'C', 'Engaging': 'C', 'Personable': 'C',
      'Thoughtful': 'C', 'Warm-hearted': 'C',

      // Experimental (D - Yellow)
      'Creative': 'D', 'Imaginative': 'D', 'Visionary': 'D', 'Innovative': 'D', 'Risk-taking': 'D', 'Adventurous': 'D', 'Explorer': 'D', 'Inspirational': 'D', 'Inventive': 'D', 'Dynamic': 'D',
      'Original': 'D', 'Curious': 'D', 'Spontaneous': 'D', 'Flexible': 'D', 'Bold': 'D', 'Experimental': 'D', 'Daring': 'D', 'Unconventional': 'D', 'Inquisitive': 'D', 'Open-minded': 'D',
      'Resourceful': 'D', 'Exploratory': 'D', 'Future-oriented': 'D', 'Big-picture': 'D', 'Inspiring': 'D', 'Energetic': 'D', 'Playful': 'D', 'Improvizational': 'D'
    };

    let userInfo = {};
    let selectedWords = [];
    let currentWordIndex = 0;
    let availableWords = [];

    function startGame() {
      userInfo = {
        name: document.getElementById('name').value || 'Thinker',
        designation: document.getElementById('designation').value || 'Explorer',
        team: document.getElementById('team').value || 'Dream Team',
        city: document.getElementById('city').value || 'Mind City'
      };
      document.querySelector('.welcome-screen').style.display = 'none';
      document.querySelector('.game-screen').style.display = 'block';
      availableWords = [...words];
      shuffleArray(availableWords);
      showNextWord();
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function showNextWord() {
      if (selectedWords.length < 25 && availableWords.length > 0) {
        if (currentWordIndex >= availableWords.length) {
          availableWords = [...words.filter(word => !selectedWords.includes(word))];
          shuffleArray(availableWords);
          currentWordIndex = 0;
        }
        document.getElementById('wordBox').innerText = availableWords[currentWordIndex];
        updateProgress();
      } else if (selectedWords.length < 25) {
        alert("Not enough unique words available to select 25. Please restart and try again with different selections.");
        location.reload();
      } else {
        showResults();
      }
    }

    function updateProgress() {
      const progress = (selectedWords.length / 25) * 100;
      document.getElementById('progressFill').style.width = `${progress}%`;
    }

    function selectWord(selected) {
      if (selected) {
        selectedWords.push(availableWords[currentWordIndex]);
        availableWords.splice(currentWordIndex, 1);
      } else {
        currentWordIndex++;
      }
      document.getElementById('wordCount').innerText = selectedWords.length;

      if (selectedWords.length >= 25) {
        showResults();
      } else {
        showNextWord();
      }
    }

    function showResults() {
      document.querySelector('.game-screen').style.display = 'none';
      document.querySelector('.result-screen').style.display = 'block';

      const quadrantScores = { A: 0, B: 0, C: 0, D: 0 };
      selectedWords.forEach(word => {
        const quadrant = wordQuadrants[word];
        quadrantScores[quadrant] += 4; // Each word contributes 4 marks
      });

      const totalScore = 100; // Total marks = 25 words * 4 = 100, normalized to 100%

      const percentages = {
        A: Math.round((quadrantScores.A / totalScore) * 100),
        B: Math.round((quadrantScores.B / totalScore) * 100),
        C: Math.round((quadrantScores.C / totalScore) * 100),
        D: Math.round((quadrantScores.D / totalScore) * 100)
      };

      // Ensure percentages sum to 100% (adjust if rounding causes slight deviation)
      const sum = percentages.A + percentages.B + percentages.C + percentages.D;
      if (sum !== 100) {
        const diff = 100 - sum;
        percentages.A += diff; // Adjust the highest quadrant to compensate
      }

      document.getElementById('profileScores').innerHTML =
        `<div style="color: #007ACC;">Analytical (A - Blue): ${percentages.A}%</div>
         <div style="color: #009900;">Structural/Planner (B - Green): ${percentages.B}%</div>
         <div style="color: #FF3300;">Relational (C - Red): ${percentages.C}%</div>
         <div style="color: #FFD700;">Experimental (D - Yellow): ${percentages.D}%</div>`;

      document.getElementById('userInfo').innerText = `${userInfo.name}, ${userInfo.designation}, STAR - Shaigan Training and Reinforcement, ${userInfo.team}, ${userInfo.city}`;

      document.getElementById('userName').innerText = userInfo.name;

      const actionWords = {
        A: 'Analytical (A - Blue)',
        B: 'Structural/Planner (B - Green)',
        C: 'Relational (C - Red)',
        D: 'Experimental (D - Yellow)'
      };

      const maxPercentage = Math.max(...Object.values(percentages));
      const dominantStyles = Object.entries(percentages)
        .filter(([_, value]) => value === maxPercentage)
        .map(([key]) => actionWords[key]);

      document.getElementById('dominantType').innerText = dominantStyles.join(' and ');
    }

    function downloadScorecard() {
      html2canvas(document.querySelector('.result-screen'), { scale: 2 }).then(canvas => {
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF('p', 'mm', 'a4');
        const imgData = canvas.toDataURL('image/png');
        const imgProps = pdf.getImageProperties(imgData);
        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
        pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
        pdf.save(`${userInfo.name}_HBDI_Scorecard.pdf`);
      });
    }
  </script>
</body>
</html>